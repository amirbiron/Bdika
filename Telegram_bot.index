<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>המדריך המלא לפיתוח בוט טלגרם</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f7fafc;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 300px;
            background: linear-gradient(135deg, #2d3748, #4a5568);
            color: white;
            padding: 20px;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            box-shadow: 5px 0 15px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            scrollbar-width: thin;
            scrollbar-color: #4a5568 #2d3748;
        }

        /* Progress bar in sidebar */
        .progress-container {
            background: #4a5568;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
        }

        .progress-bar {
            background: #2d3748;
            border-radius: 8px;
            height: 8px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            background: linear-gradient(90deg, #81e6d9, #68d391);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
            border-radius: 8px;
        }

        .progress-text {
            font-size: 0.9em;
            color: #81e6d9;
            font-weight: bold;
        }

        .sidebar h2 {
            font-size: 1.5em;
            margin-bottom: 20px;
            text-align: center;
            color: #81e6d9;
        }

        .nav-section {
            margin-bottom: 20px;
        }

        .nav-section h3 {
            color: #fbd38d;
            font-size: 1.1em;
            margin-bottom: 10px;
            border-bottom: 2px solid #4a5568;
            padding-bottom: 5px;
        }

        .nav-section ul {
            list-style: none;
        }

        .nav-section li {
            margin: 5px 0;
        }

        .nav-section a {
            color: #e2e8f0;
            text-decoration: none;
            display: block;
            padding: 8px 12px;
            border-radius: 6px;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }

        .nav-section a:hover {
            background: #4a5568;
            color: #81e6d9;
            transform: translateX(-5px);
        }

        /* Section metadata badges */
        .section-meta {
            display: flex;
            flex-direction: column;
            gap: 5px;
            margin: 8px 0 15px 0;
            font-size: 0.8em;
        }

        .time-badge, .difficulty-badge, .cost-badge {
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.75em;
            font-weight: bold;
            text-align: center;
        }

        .time-badge {
            background: #4a5568;
            color: #fbd38d;
        }

        .difficulty-badge.beginner {
            background: #00b09b;
            color: white;
        }

        .difficulty-badge.intermediate {
            background: #667eea;
            color: white;
        }

        .difficulty-badge.advanced {
            background: #fc466b;
            color: white;
        }

        .cost-badge.free {
            background: #00b09b;
            color: white;
        }

        .cost-badge.paid {
            background: #ed8936;
            color: white;
        }
/* Back to top link */
        .back-to-top {
            display: block;
            text-align: center;
            padding: 10px;
            background: #4a5568;
            border-radius: 8px;
            transition: all 0.3s ease;
            text-decoration: none;
            color: #81e6d9;
        }

        .back-to-top:hover {
            background: #667eea;
            transform: scale(1.05);
        }

        /* Task info indicators */
        .task-info {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
            padding: 15px;
            background: #f8fafc;
            border-radius: 10px;
            border-right: 4px solid #667eea;
        }

        .time-indicator, .difficulty-indicator, .cost-indicator {
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: bold;
            white-space: nowrap;
        }

        .time-indicator {
            background: #fbd38d;
            color: #744210;
        }

        .difficulty-indicator.beginner {
            background: #00b09b;
            color: white;
        }

        .difficulty-indicator.intermediate {
            background: #667eea;
            color: white;
        }

        .difficulty-indicator.advanced {
            background: #fc466b;
            color: white;
        }

        .cost-indicator.free {
            background: #00b09b;
            color: white;
        }

        .cost-indicator.paid {
            background: #ed8936;
            color: white;
        }

        /* Screenshot placeholders */
        .screenshot-placeholder {
            margin: 20px 0;
            border: 2px dashed #cbd5e0;
            border-radius: 10px;
            background: #f7fafc;
            overflow: hidden;
        }

        .screenshot-content {
            padding: 20px;
            text-align: center;
        }

        .screenshot-content h5 {
            color: #4a5568;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .screenshot-content p {
            color: #718096;
            margin-bottom: 15px;
            font-style: italic;
        }

        .placeholder-image {
            background: #e2e8f0;
            border-radius: 8px;
            padding: 20px;
            font-family: monospace;
            color: #4a5568;
            font-size: 0.9em;
            line-height: 1.4;
            white-space: pre-line;
        }

        /* Step by step layout */
        .step-by-step {
            margin: 20px 0;
        }

        .step {
            display: flex;
            align-items: flex-start;
            margin-bottom: 20px;
            padding: 15px;
            background: #f8fafc;
            border-radius: 10px;
            border-right: 3px solid #667eea;
        }

        .step-number {
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9em;
            margin-left: 15px;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .step-content strong {
            color: #2d3748;
            display: block;
            margin-bottom: 8px;
        }

        .step-content ul {
            margin-top: 8px;
        }

        .step-content li {
            margin-bottom: 5px;
        }

        /* Completed sections styling */
        .nav-section a.completed {
            text-decoration: line-through !important;
            opacity: 0.7 !important;
        }

        /* Quick Start Modal */
.quick-start-toggle {
            background: linear-gradient(135deg, #00b09b, #96c93d);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            margin: 20px auto;
            display: block;
            box-shadow: 0 8px 25px rgba(0, 176, 155, 0.3);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .quick-start-toggle:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(0, 176, 155, 0.4);
        }

        .quick-start-toggle::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .quick-start-toggle:hover::before {
            left: 100%;
        }

        .quick-start-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            display: none;
            backdrop-filter: blur(5px);
        }

        .quick-start-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            width: 90%;
            max-width: 900px;
            max-height: 90%;
            overflow-y: auto;
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            direction: rtl;
        }

        .quick-start-header {
            background: linear-gradient(135deg, #00b09b, #96c93d);
            color: white;
            padding: 25px;
            border-radius: 20px 20px 0 0;
            text-align: center;
            position: relative;
        }

        .quick-start-header h2 {
            margin: 0;
            font-size: 1.8em;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            left: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            font-size: 1.5em;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }

        .close-modal:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .quick-start-body {
            padding: 30px;
            max-height: 70vh;
            overflow-y: auto;
        }

        /* Quick start specific styling */
        .quick-step {
            background: #f8fafc;
            border-right: 4px solid #00b09b;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            position: relative;
        }

        .quick-step-number {
            position: absolute;
            top: -10px;
            right: 20px;
            background: #00b09b;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9em;
        }

        .quick-step h4 {
            color: #2d3748;
            margin-bottom: 10px;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .quick-start-content {
                width: 95%;
                margin: 20px;
            }
            
            .quick-start-body {
                padding: 20px;
            }
        }
/* Main content */
        .main-content {
            margin-right: 300px;
            padding: 40px;
            width: calc(100% - 300px);
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 40px;
            box-shadow: 0 20px 40px rgba(102, 126, 234, 0.3);
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.3em;
            opacity: 0.9;
        }

        /* Section styling */
        .section {
            background: white;
            margin-bottom: 30px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .section-header {
            padding: 30px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .section-header.preparation {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .section-header.basics {
            background: linear-gradient(135deg, #00b09b, #96c93d);
        }

        .section-header.deploy {
            background: linear-gradient(135deg, #667eea, #764ba2);
        }

        .section-header.data {
            background: linear-gradient(135deg, #fc466b, #3f5efb);
        }

        .section-header.advanced {
            background: linear-gradient(135deg, #fa709a, #fee140);
            color: #333;
        }

        .section-header.troubleshoot {
            background: linear-gradient(135deg, #ff6b6b, #ffa500);
        }

        .section-header h2 {
            font-size: 2.2em;
            margin-bottom: 10px;
        }

        .section-content {
            padding: 40px;
        }

        /* Content styling */
        .topic {
            margin-bottom: 40px;
            border-right: 4px solid #e2e8f0;
            padding-right: 20px;
        }

        .topic h3 {
            color: #2d3748;
            font-size: 1.8em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }

        .topic h3::before {
            content: "📋";
            margin-left: 10px;
        }

        .subtopic {
            background: #f8fafc;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
            border-right: 3px solid #cbd5e0;
        }

        .subtopic h4 {
            color: #4a5568;
            font-size: 1.4em;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .subtopic h4::before {
            content: "▶️";
            margin-left: 8px;
            font-size: 0.8em;
        }

        /* Code blocks */
        .code-block {
            background: #1a202c;
            color: #f7fafc;
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Fira Code', 'Courier New', monospace;
            box-shadow: inset 0 3px 8px rgba(0, 0, 0, 0.4);
            position: relative;
            direction: ltr !important;
            text-align: left !important;
            word-wrap: break-word;
            word-break: break-word;
        }

        .code-block::before {
            content: "💻 קוד";
            position: absolute;
            top: 10px;
            left: 15px;
            background: #4a5568;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
        }

        .code-block pre {
            margin-top: 25px;
            white-space: pre-wrap;
            direction: ltr !important;
            text-align: left !important;
            word-wrap: break-word;
            word-break: break-word;
            overflow-wrap: break-word;
        }
.code-block h5 {
            color: #68d391;
            margin-bottom: 10px;
            font-size: 1.1em;
            margin-top: 25px;
        }

        /* Special boxes */
        .info-box {
            background: linear-gradient(135deg, #bee3f8, #90cdf4);
            border: none;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            color: #1a365d;
        }

        .warning-box {
            background: linear-gradient(135deg, #fed7d7, #feb2b2);
            border: none;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            color: #742a2a;
        }

        .success-box {
            background: linear-gradient(135deg, #c6f6d5, #9ae6b4);
            border: none;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            color: #1c4532;
        }

        .tip-box {
            background: linear-gradient(135deg, #fef5e7, #fbd38d);
            border: none;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            color: #744210;
        }

        /* Lists */
        ul, ol {
            margin-right: 25px;
            margin-bottom: 15px;
        }

        li {
            margin-bottom: 8px;
            padding-right: 5px;
        }

        /* Error boxes */
        .error-item {
            background: #fff5f5;
            border-right: 4px solid #e53e3e;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
        }

        .error-item h5 {
            color: #c53030;
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        .error-item .solution {
            background: #f0fff4;
            border-right: 3px solid #38a169;
            padding: 15px;
            border-radius: 6px;
            margin-top: 10px;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        th, td {
            padding: 12px 15px;
            text-align: right;
            border-bottom: 1px solid #e2e8f0;
            vertical-align: top;
        }

        th {
            background: #4a5568;
            color: white;
            font-weight: bold;
            font-size: 0.9em;
        }

        tr:hover {
            background: #f8fafc;
        }

        tr:last-child td {
            border-bottom: none;
        }

        /* Special styling for comparison tables */
        .success-box table th {
            background: #00695c;
        }

        .success-box table td {
            font-size: 0.9em;
        }

        /* Mobile responsiveness */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            .sidebar {
                position: relative;
                width: 100%;
                height: auto;
            }

            .main-content {
                margin-right: 0;
                width: 100%;
                padding: 20px;
            }

            .header {
                padding: 30px;
            }

            .header h1 {
                font-size: 2em;
            }

            .section-content {
                padding: 20px;
            }

            /* Better code block handling on mobile */
            .code-block {
                padding: 15px;
                font-size: 0.85em;
                max-width: 100%;
                overflow-x: auto;
            }

            .code-block pre {
                font-size: 0.85em;
                line-height: 1.4;
                /* Allow horizontal scrolling for very long lines */
                white-space: pre;
                overflow-x: auto;
                /* But still break very long words if needed */
                word-break: break-all;
            }
/* Add visual indicator for scrollable content */
            .code-block::-webkit-scrollbar {
                height: 8px;
            }

            .code-block::-webkit-scrollbar-track {
                background: #2d3748;
                border-radius: 4px;
            }

            .code-block::-webkit-scrollbar-thumb {
                background: #4a5568;
                border-radius: 4px;
            }

            /* Handle tables on mobile */
            table {
                display: block;
                overflow-x: auto;
                white-space: nowrap;
            }

            /* Handle other potentially wide content */
            .subtopic, .topic {
                overflow-x: auto;
            }

            /* Reduce padding on mobile for better space utilization */
            .subtopic {
                padding: 15px;
            }

            .topic {
                padding-right: 10px;
            }
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        /* Link styling */
        a {
            color: #667eea;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        .highlight {
            background: linear-gradient(45deg, #ffd700, #ffed4a);
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: bold;
            color: #333;
        }

        .badge {
            background: #667eea;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: bold;
        }

        .badge.beginner {
            background: #00b09b;
        }

        .badge.intermediate {
            background: #667eea;
        }

        .badge.advanced {
            background: #fc466b;
        }

        /* Progress indicators */
        .level-indicator {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .level-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin: 0 5px;
            background: #e2e8f0;
        }

        .level-dot.active {
            background: #667eea;
        }

        .level-dot.beginner {
            background: #00b09b;
        }

        .level-dot.intermediate {
            background: #667eea;
        }

        .level-dot.advanced {
            background: #fc466b;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar Navigation -->
        <div class="sidebar">
            <h2>🤖 מדריך הבוט</h2>
            
            <div class="nav-section">
                <h3>🔧 חלק 0: הכנות ראשוניות</h3>
                <ul>
                    <li><a href="#botfather-setup">יצירת בוט ב-BotFather</a></li>
                    <li><a href="#mongodb-setup">הגדרת MongoDB Atlas</a></li>
                    <li><a href="#render-account">פתיחת חשבון Render</a></li>
                    <li><a href="#uptimerobot-setup">הגדרת UptimeRobot</a></li>
                    <li><a href="#security-keys">ניהול מפתחות בטוח</a></li>
                </ul>
            </div>

            <div class="nav-section">
                <h3>📚 חלק א': היסודות</h3>
                <ul>
                    <li><a href="#architecture">ארכיטקטורה</a></li>
                    <li><a href="#environment">סביבת פיתוח</a></li>
                    <li><a href="#secrets">ניהול מידע רגיש</a></li>
                </ul>
            </div>
<div class="nav-section">
                <h3>🚀 חלק ב': העלאה לאוויר</h3>
                <ul>
                    <li><a href="#keep-alive">טריק Keep-Alive</a></li>
                    <li><a href="#docker">Dockerfile נכון</a></li>
                    <li><a href="#render">הגדרת Render</a></li>
                </ul>
            </div>

            <div class="nav-section">
                <h3>💾 חלק ג': נתונים ואחסון</h3>
                <ul>
                    <li><a href="#mongodb">MongoDB Atlas</a></li>
                    <li><a href="#admin">פקודות Admin</a></li>
                </ul>
            </div>

            <div class="nav-section">
                <h3>⚡ חלק ד': תכונות מתקדמות</h3>
                <ul>
                    <li><a href="#api">חיבור API חיצוני</a></li>
                    <li><a href="#hybrid-search">חיפוש היברידי</a></li>
                    <li><a href="#lazy-loading">טעינה עצלה</a></li>
                </ul>
            </div>

            <div class="nav-section">
                <h3>🔧 חלק ה': תחזוקה</h3>
                <ul>
                    <li><a href="#common-errors">תקלות נפוצות</a></li>
                    <li><a href="#best-practices">עקרונות עבודה</a></li>
                    <li><a href="#summary">סיכום והמלצות</a></li>
                </ul>
            </div>

            <div class="nav-section">
                <h3>⚡ חלק ו': שימוש מתקדם</h3>
                <ul>
                    <li><a href="#error-handling">טיפול בשגיאות מתקדם</a></li>
                    <li><a href="#polling-conflicts">פתרון קונפליקטי Polling</a></li>
                    <li><a href="#mongodb-locking">נעילה MongoDB למניעת קונפליקטים</a></li>
                    <li><a href="#anthropic-models">מודלי Anthropic API</a></li>
                    <li><a href="#message-editing">עריכת הודעות ללא שגיאות</a></li>
                    <li><a href="#google-search-api">Google Custom Search</a></li>
                </ul>
            </div>

            <div class="nav-section">
                <h3>💰 הזמנת בוט</h3>
                <ul>
                    <li><a href="#order-bot" data-section="order-bot">הזמנת בוט בזול</a></li>
                </ul>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <h1>🤖 המדריך המלא לפיתוח בוט טלגרם</h1>
                <p>מיסודות להתקדמות - מסודר לפי רמות</p>
            </div>

            <div class="info-box">
                <h3>🧭 איך להשתמש במדריך הזה</h3>
                <p><strong>🚀 מתחיל לגמרי?</strong> ← תתחיל ב"הכנות ראשוניות" (חלק 0) ותעבור בסדר.</p>
<p><strong>⚡ רוצה מהיר?</strong> ← השתמש במדריך המהיר של 10 דקות ואחר כך חזור לכאן להעמקה.</p>
<p><strong>🔧 יש לך כבר בוט עובד?</strong> ← אתה יכול לקפוץ לחלק הרלוונטי (משתמש בתפריט השמאלי).</p>
            </div>

            <!-- Quick Start Button -->
            <button class="quick-start-toggle" onclick="openQuickStart()">
                🚀 מהיר התחלה - בוט עובד ב-10 דקות!
            </button>

            <!-- Quick Start Modal -->
            <div class="quick-start-modal" id="quickStartModal">
                <div class="quick-start-content">
                    <div class="quick-start-header">
                        <button class="close-modal" onclick="closeQuickStart()">✕</button>
                        <h2>🚀 מהיר התחלה - בוט טלגרם ב-10 דקות</h2>
                        <p>המטרה: בוט פועל ב-Render תוך 10 דקות שעונה להודעות ועובד 24/7</p>
                    </div>
                    <div class="quick-start-body">
                        
                        <div class="quick-step">
                            <div class="quick-step-number">1</div>
                            <h4>צור את הבוט (דקה 1)</h4>
<ol>
                                <li>פתח טלגרם וחפש: <strong>@BotFather</strong></li>
                                <li>שלח: <code>/newbot</code></li>
                                <li>תן שם לבוט (למשל: "הבוט הראשון שלי")</li>
                                <li>תן שם משתמש לבוט (חייב להסתיים ב-<code>bot</code>, למשל: <code>my_first_bot</code>)</li>
                                <li><strong>שמור את הטוקן!</strong> נראה כך: <code>6123456789:AAFGHJ-abcdefghijklmnopqr</code></li>
                            </ol>
                        </div>

                        <div class="quick-step">
                            <div class="quick-step-number">2</div>
                            <h4>כתוב את הקוד (דקות 2-3)</h4>
                            <p><strong>צור תיקייה חדשה</strong> במחשב ובתוכה 2 קבצים:</p>
                            
                            <div class="code-block">
                                <h5>קובץ main.py:</h5>
                                <pre>import os
from telegram.ext import Application, CommandHandler, MessageHandler, filters
from threading import Thread
from flask import Flask

# Keep-Alive server
app = Flask(name)

@app.route('/')
def home():
    return "הבוט פועל!"

def run_flask():
    app.run(host='0.0.0.0', port=int(os.environ.get('PORT', 5000)))

# פונקציות הבוט
async def start(update, context):
    await update.message.reply_text("שלום! הבוט שלך עובד!")

async def echo(update, context):
    text = update.message.text
    await update.message.reply_text(f"קיבלתי: {text}")

def main():
    # הפעל Keep-Alive
    Thread(target=run_flask, daemon=True).start()
    
    # בנה את הבוט
    application = Application.builder().token(os.getenv('BOT_TOKEN')).build()
    
    # הוסף פקודות
    application.add_handler(CommandHandler("start", start))
    application.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, echo))
    
    # הרץ את הבוט
    application.run_polling()

if name == 'main':
    main()</pre>
                            </div>

                            <div class="code-block">
                                <h5>קובץ requirements.txt:</h5>
                                <pre>python-telegram-bot==20.7
flask==3.0.0
python-dotenv==1.0.0</pre>
                            </div>
                        </div>

                        <div class="quick-step">
                            <div class="quick-step-number">3</div>
                            <h4>העלה ל-GitHub (דקות 4-5)</h4>
                            <ol>
                                <li><strong>צור מאגר חדש</strong> ב-GitHub.com</li>
                                <li><strong>העלה את הקבצים:</strong>
                                    <ul>
                                        <li>לחץ "uploading an existing file"</li>
                                        <li>גרור את <code>main.py</code> ו-<code>requirements.txt</code></li>
                                        <li>לחץ "Commit changes"</li>
                                    </ul>
                                </li>
                            </ol>
                        </div>

                        <div class="quick-step">
                            <div class="quick-step-number">4</div>
                            <h4>פתח חשבון ב-Render (דקה 6)</h4>
                            <ol>
                                <li>לך ל-<a href="https://render.com" target="_blank">render.com</a></li>
                                <li>הירשם עם GitHub</li>
                                <li>אשר את החשבון במייל</li>
                            </ol>
                        </div>

                        <div class="quick-step">
                            <div class="quick-step-number">5</div>
                            <h4>צור שירות ב-Render (דקות 7-8)</h4>
<ol>
                                <li>לחץ <strong>"New +"</strong> ← <strong>"Web Service"</strong></li>
                                <li>בחר את המאגר שיצרת</li>
                                <li>מלא:
                                    <ul>
                                        <li><strong>Name:</strong> שם לבחירתך (באנגלית)</li>
                                        <li><strong>Build Command:</strong> <code>pip install -r requirements.txt</code></li>
                                        <li><strong>Start Command:</strong> <code>python main.py</code></li>
                                    </ul>
                                </li>
                                <li>לחץ <strong>"Create Web Service"</strong></li>
                            </ol>
                        </div>

                        <div class="quick-step">
                            <div class="quick-step-number">6</div>
                            <h4>הוסף את הטוקן (דקה 9)</h4>
                            <ol>
                                <li><strong>בעמוד השירות ב-Render</strong>, לחץ על <strong>"Environment"</strong></li>
                                <li>לחץ <strong>"Add Secret File"</strong></li>
                                <li>מלא:
                                    <ul>
                                        <li><strong>Filename:</strong> <code>.env</code></li>
                                        <li><strong>Contents:</strong> <code>BOT_TOKEN=הטוקן_שלך_כאן</code></li>
                                    </ul>
                                </li>
                                <li>לחץ <strong>"Save Changes"</strong></li>
                            </ol>
                            <div class="warning-box">
                                <strong>השירות יתחיל להיבנות אוטומטית!</strong>
                            </div>
                        </div>

                        <div class="quick-step">
                            <div class="quick-step-number">7</div>
                            <h4>בדוק שעובד (דקה 10)</h4>
                            <ol>
                                <li><strong>חכה</strong> שהלוגים יראו: <code>"Polling is running"</code></li>
                                <li><strong>פתח את הבוט</strong> בטלגרם</li>
                                <li><strong>שלח</strong> <code>/start</code> - אמור לענות "שלום! הבוט שלך עובד!"</li>
                                <li><strong>שלח</strong> הודעה רגילה - אמור להדהד אותה</li>
                            </ol>
                        </div>

                        <div class="success-box">
                            <h4>🎉 מזל טוב! הבוט שלך פועל!</h4>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                                <div>
                                    <h5>📱 מה הבוט יודע לעשות עכשיו:</h5>
                                    <ul>
                                        <li>✅ עונה ל-<code>/start</code></li>
                                        <li>✅ מחזיר כל הודעה שאתה שולח</li>
                                        <li>✅ פועל 24/7 ללא הפסקה</li>
                                    </ul>
                                </div>
                                <div>
                                    <h5>🔄 איך לעדכן את הבוט:</h5>
                                    <ul>
                                        <li>ערוך את <code>main.py</code> ב-GitHub</li>
                                        <li>Render יבנה אוטומטית את הגרסה החדשה</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="warning-box">
<h4>🆘 אם משהו לא עובד:</h4>
                            <ul>
                                <li><strong>הבוט לא עונה?</strong> ← בדוק שהטוקן נכון ב-Environment</li>
                                <li><strong>שגיאות בלוגים?</strong> ← בדוק שהקבצים נשמרו נכון ב-GitHub</li>
                                <li><strong>השירות לא עולה?</strong> ← חכה עוד 2-3 דקות, לפעמים זה לוקח זמן</li>
                            </ul>
                        </div>

                        <div class="tip-box">
                            <h4>🚀 מה הלאה?</h4>
                            <p>עכשיו שיש לך בוט עובד, אפשר:</p>
                            <ol>
                                <li><strong>להוסיף פקודות נוספות</strong> (כמו <code>/help</code>, <code>/info</code>)</li>
                                <li><strong>ללמוד מהמדריך המלא</strong> איך להוסיף מסד נתונים, API חיצוני ועוד</li>
                                <li><strong>להתנסות</strong> - שנה את הקוד ותראה מה קורה!</li>
                            </ol>
                            <p style="text-align: center; margin-top: 20px;">
                                <button onclick="closeQuickStart()" style="background: #667eea; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer;">
                                    📚 המשך למדריך המלא
                                </button>
                            </p>
                        </div>

                    </div>
                </div>
            </div>

            <!-- חלק 0: הכנות ראשוניות -->
            <div class="section">
                <div class="section-header" style="background: linear-gradient(135deg, #667eea, #764ba2);">
                    <h2>🔧 חלק 0: הכנות ראשוניות</h2>
                    <div class="level-indicator">
                        <span class="badge beginner">הכרחי</span>
                        <div class="level-dot beginner active"></div>
                        <div class="level-dot"></div>
                        <div class="level-dot"></div>
                    </div>
                    <p style="margin-top: 10px; opacity: 0.9;">שלב זה הכרחי למי שמתחיל מאפס - נגדיר את כל החשבונות והמפתחות</p>
                </div>
                <div class="section-content">
                    <div class="topic" id="botfather-setup">
                        <h3>יצירת בוט ב-BotFather</h3>
                        
                        <!-- Visual indicators -->
                        <div class="task-info">
                            <span class="time-indicator">⏱️ זמן משוער: 5-7 דקות</span>
                            <span class="difficulty-indicator beginner">🔰 רמת קושי: קל מאוד</span>
                            <span class="cost-indicator free">💰 עלות: חינמי לחלוטין</span>
                        </div>
                        
                        <div class="info-box">
                            <h4>🤖 מה זה BotFather?</h4>
                            <p>BotFather הוא הבוט הרשמי של טלגרם שמנהל את כל הבוטים בפלטפורמה. דרכו תוכל ליצור, לערוך ולנהל את הבוטים שלך.</p>
                        </div>

                        <!-- Screenshot placeholder -->
                        <div class="screenshot-placeholder">
                            <div class="screenshot-content">
                                
                                <div class="placeholder-image">🤖 @BotFather ✅</div>
                            </div>
                        </div>

                        <div class="subtopic">
                            <h4>צעדים מפורטים:</h4>
                            <div class="step-by-step">
                                <div class="step">
                                    <div class="step-number">1</div>
                                    <div class="step-content">
<strong>פתח את טלגרם</strong> (אפליקציה או דפדפן)
                                    </div>
                                </div>
                                
                                <div class="step">
                                    <div class="step-number">2</div>
                                    <div class="step-content">
                                        <strong>חפש את BotFather:</strong>
                                        <ul>
                                            <li>בחיפוש, כתוב: <code>@BotFather</code></li>
                                            <li>או לחץ על הקישור: <a href="https://t.me/BotFather" target="_blank">https://t.me/BotFather</a></li>
                                            <li>וודא שיש עליו עיטור כחול (✓) - זה הבוט הרשמי</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="step">
                                    <div class="step-number">3</div>
                                    <div class="step-content">
                                        <strong>התחל שיחה:</strong>
                                        <ul>
                                            <li>לחץ "התחל" או "Start"</li>
                                            <li>תקבל הודעת ברוכים הבאים עם רשימת פקודות</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="step">
                                    <div class="step-number">4</div>
                                    <div class="step-content">
                                        <strong>צור בוט חדש:</strong>
                                        <ul>
                                            <li>שלח: <code>/newbot</code></li>
                                            <li>BotFather ישאל: "Alright, a new bot. How are we going to call it?"</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="step">
                                    <div class="step-number">5</div>
                                    <div class="step-content">
                                        <strong>תן שם לבוט:</strong>
                                        <ul>
                                            <li>כתוב שם יפה ותיאורי, למשל: "הבוט הראשון שלי"</li>
                                            <li>זה השם שמשתמשים יראו</li>
                                            <li>יכול להיות בעברית ועם רווחים</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="step">
                                    <div class="step-number">6</div>
                                    <div class="step-content">
                                        <strong>תן שם משתמש לבוט:</strong>
                                        <ul>
                                            <li>BotFather ישאל: "Now let's choose a username for your bot"</li>
                                            <li>חייב להסתיים ב-<code>bot</code> או <code>Bot</code></li>
                                            <li>רק אותיות אנגליות, מספרים וקו תחתון</li>
                                            <li>דוגמאות: <code>my_first_bot</code>, <code>testBot123</code></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
<div class="success-box">
                            <h4>🎉 קיבלת את הטוקן!</h4>
                            <p>אם הכל הלך בסדר, תקבל הודעה כזו:</p>
                            
                            <!-- Screenshot placeholder -->
                            <div class="screenshot-placeholder">
                                <div class="screenshot-content">
            
                                    <div class="placeholder-image">
                                        Done! Congratulations on your new bot...<br>
                                        <strong>6123456789:AAFGHJ-abcdefghijklmnopqr</strong>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="code-block">
                                <pre>Done! Congratulations on your new bot. You will find it at t.me/your_bot_username.

You can now add a description, about section and profile picture for your bot...

Use this token to access the HTTP API:
6123456789:AAFGHJ-abcdefghijklmnopqrstuvwxyz_1234

Keep your token secure and store it safely, it can be used by anyone to control your bot.</pre>
                            </div>
                        </div>

                        <div class="warning-box">
                            <h4>⚠️ חשוב מאוד!</h4>
                            <ul>
                                <li><strong>העתק את הטוקן למקום בטוח</strong> - תצטרך אותו בהמשך</li>
                                <li><strong>אל תשתף את הטוקן עם אף אחד</strong> - מי שיש לו את הטוקן יכול לשלוט בבוט שלך</li>
                                <li><strong>אם הטוקן נדלף</strong> - אפשר לבטל אותו ולקבל חדש דרך BotFather</li>
                            </ul>
                        </div>

                        <div class="subtopic">
                            <h4>פקודות נוספות שימושיות:</h4>
                            <ul>
                                <li><code>/mybots</code> - רשימת כל הבוטים שלך</li>
                                <li><code>/token</code> - קבלת הטוקן שוב (אם שכחת)</li>
                                <li><code>/revoke</code> - ביטול טוקן נוכחי וקבלת חדש</li>
                                <li><code>/setdescription</code> - הוספת תיאור לבוט</li>
                                <li><code>/setabouttext</code> - הוספת טקסט "אודות"</li>
                                <li><code>/setuserpic</code> - הוספת תמונת פרופיל</li>
                            </ul>
                        </div>
                    </div>

                    <div class="topic" id="mongodb-setup">
                        <h3>הגדרת MongoDB Atlas</h3>
                        
                        <!-- Visual indicators -->
                        <div class="task-info">
                            <span class="time-indicator">⏱️ זמן משוער: 15-20 דקות</span>
                            <span class="difficulty-indicator beginner">🔰 רמת קושי: קל</span>
                            <span class="cost-indicator free">💰 עלות: חינמי (512MB)</span>
                        </div>
                        
                        <div class="info-box">
                            <h4>🗃️ מה זה בכלל מסד נתונים?</h4>
                            <p><strong>מסד נתונים</strong> זה כמו "מוח" של הבוט - המקום שבו הוא זוכר דברים:</p>
                            <ul>
                                <li><strong>מי השתמש בבוט</strong> (רשימת משתמשים)</li>
                                <li><strong>מתי כל אחד השתמש</strong> (לסטטיסטיקות)</li>
                                <li><strong>העדפות משתמשים</strong> (שפה, הגדרות)</li>
                                <li><strong>היסטוריית שיחות</strong> (אם רוצים לזכור הקשר)</li>
                                <li><strong>תוכן הבוט</strong> (מאמרים, שאלות ותשובות)</li>
                            </ul>
                        </div>
<div class="success-box">
                            <h4>🔄 MongoDB vs קבצי טקסט - למה זה יותר טוב?</h4>
                            <table style="width: 100%; margin: 10px 0;">
                                <tr>
                                    <th>קבצי טקסט רגילים</th>
                                    <th>MongoDB</th>
                                </tr>
                                <tr>
                                    <td>❌ איטי עם הרבה נתונים</td>
                                    <td>✅ מהיר אפילו עם מיליוני רשומות</td>
                                </tr>
                                <tr>
                                    <td>❌ קשה לחפש ולמיין</td>
                                    <td>✅ חיפוש וסינון מתקדם</td>
                                </tr>
                                <tr>
                                    <td>❌ בעיות עם משתמשים במקביל</td>
                                    <td>✅ אלפי משתמשים במקביל</td>
                                </tr>
                                <tr>
                                    <td>❌ אין גיבוי אוטומטי</td>
                                    <td>✅ גיבוי אוטומטי כל יום</td>
                                </tr>
                            </table>
                        </div>

                        <div class="tip-box">
                            <h4>💡 למה MongoDB Atlas דווקא?</h4>
                            <ul>
                                <li><strong>חינמי:</strong> 512MB אחסון ללא עלות (מספיק לאלפי משתמשים)</li>
                                <li><strong>מנוהל:</strong> גיבויים ואבטחה אוטומטיים</li>
                                <li><strong>קל להתחיל:</strong> לא צריך להתקין כלום במחשב</li>
                                <li><strong>יציב:</strong> זמינות גבוהה 24/7</li>
                                <li><strong>גמיש:</strong> קל להוסיף שדות חדשים ללא מחיקת נתונים</li>
                            </ul>
                        </div>

                        <div class="subtopic">
                            <h4>שלב 1: יצירת חשבון</h4>
                            
                            <!-- Screenshot placeholder -->
                            <div class="screenshot-placeholder">
                                <div class="screenshot-content">
                                    
                                    <div class="placeholder-image">MongoDB Atlas - Sign Up
🌟 Try free
📧 Email: your@email.com
🔒 Password: ••••••••</div>
                                </div>
                            </div>
                            
                            <div class="step-by-step">
                                <div class="step">
                                    <div class="step-number">1</div>
                                    <div class="step-content">
                                        <strong>לך ל-MongoDB Atlas:</strong>
                                        <a href="https://www.mongodb.com/cloud/atlas/register" target="_blank">https://www.mongodb.com/cloud/atlas/register</a>
                                    </div>
                                </div>
                                
                                <div class="step">
                                    <div class="step-number">2</div>
                                    <div class="step-content">
                                        <strong>הירשם:</strong>
                                        <ul>
                                            <li>מלא אימייל וסיסמה</li>
                                            <li>או השתמש ב-Google/GitHub</li>
                                        </ul>
                                    </div>
                                </div>
<div class="step">
                                    <div class="step-number">3</div>
                                    <div class="step-content">
                                        <strong>אמת את האימייל</strong> (בדוק גם ספאם)
                                    </div>
                                </div>
                                
                                <div class="step">
                                    <div class="step-number">4</div>
                                    <div class="step-content">
                                        <strong>מלא פרטים נוספים:</strong>
                                        <ul>
                                            <li>שם פרטי ומשפחה</li>
                                            <li>בחר "I'm learning MongoDB"</li>
                                            <li>בחר "Personal" או "Work"</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="subtopic">
                            <h4>שלב 2: יצירת Cluster (מסד הנתונים)</h4>
                            
                            <!-- Screenshot placeholder -->
                            <div class="screenshot-placeholder">
                                <div class="screenshot-content">
                                    
                                    <div class="placeholder-image">Choose Your Plan
🟢 M0 Sandbox - FREE
512 MB Storage
Shared RAM
⭐ $0/month forever</div>
                                </div>
                            </div>
                            
                            <div class="step-by-step">
                                <div class="step">
                                    <div class="step-number">1</div>
                                    <div class="step-content">
                                        <strong>בעמוד הראשי:</strong>
                                        <ul>
                                            <li>לחץ "Build a Database"</li>
                                            <li>או "Create a Cluster"</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="step">
                                    <div class="step-number">2</div>
                                    <div class="step-content">
                                        <strong>בחר תוכנית:</strong>
                                        <ul>
                                            <li>בחר <span class="highlight">"M0 Sandbox"</span> (החינמית)</li>
                                            <li>וודא שכתוב "FREE" ליד התוכנית</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="step">
                                    <div class="step-number">3</div>
                                    <div class="step-content">
                                        <strong>בחר מיקום:</strong>
                                        <ul>
                                            <li>ספק: <strong>AWS</strong> (מומלץ)</li>
                                            <li>אזור: <strong>eu-central-1</strong> (פרנקפורט - הכי קרוב לישראל)</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="step">
                                    <div class="step-number">4</div>
<div class="step-content">
                                        <strong>תן שם ל-Cluster:</strong>
                                        <ul>
                                            <li>השאר את ברירת המחדל: "Cluster0"</li>
                                            <li>או תן שם תיאורי: "telegram-bot"</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="step">
                                    <div class="step-number">5</div>
                                    <div class="step-content">
                                        <strong>לחץ "Create Cluster"</strong> - זה ייקח 1-3 דקות
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="subtopic">
                            <h4>שלב 3: הגדרת אבטחה</h4>
                            
                            <!-- Screenshot placeholder -->
                            <div class="screenshot-placeholder">
                                <div class="screenshot-content">
                                    
                                    <div class="placeholder-image">Database Access
👤 Username: botuser
🔑 Password: ••••••••••
📝 Role: Read and write to any database</div>
                                </div>
                            </div>
                            
                            <div class="step-by-step">
                                <div class="step">
                                    <div class="step-number">1</div>
                                    <div class="step-content">
                                        <strong>יצירת משתמש מסד נתונים:</strong>
                                        <ul>
                                            <li>בעמוד Security ← Database Access</li>
                                            <li>לחץ "Add New Database User"</li>
                                            <li>שם משתמש: <code>botuser</code> (או כל שם)</li>
                                            <li>סיסמה: <strong>צור סיסמה חזקה ושמור אותה!</strong></li>
                                            <li>הרשאות: <strong>"Read and write to any database"</strong></li>
                                            <li>לחץ "Add User"</li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="step">
                                    <div class="step-number">2</div>
                                    <div class="step-content">
                                        <strong>הגדרת IP Whitelist:</strong>
                                        <ul>
                                            <li>בעמוד Security ← Network Access</li>
                                            <li>לחץ "Add IP Address"</li>
                                            <li>בחר <strong>"Allow Access from Anywhere"</strong> (0.0.0.0/0)</li>
                                            <li>זה בטוח כי יש לך סיסמה חזקה</li>
                                            <li>לחץ "Confirm"</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="subtopic">
                            <h4>שלב 4: קבלת Connection String</h4>
                            
                            <!-- Screenshot placeholder -->
                            <div class="screenshot-placeholder">
<div class="screenshot-content">
                                    
                                    <div class="placeholder-image">Connect to Cluster0
🔗 Connect your application
🐍 Python 3.6 or later
📋 mongodb+srv://botuser:&lt;password&gt;@cluster0...</div>
                                </div>
                            </div>
                            
                            <div class="step-by-step">
                                <div class="step">
                                    <div class="step-number">1</div>
                                    <div class="step-content">
                                        <strong>חזור לעמוד הראשי</strong> (Database ← Clusters)
                                    </div>
                                </div>
                                
                                <div class="step">
                                    <div class="step-number">2</div>
                                    <div class="step-content">
                                        <strong>לחץ "Connect"</strong> על ה-Cluster שלך
                                    </div>
                                </div>
                                
                                <div class="step">
                                    <div class="step-number">3</div>
                                    <div class="step-content">
                                        <strong>בחר "Connect your application"</strong>
                                    </div>
                                </div>
                                
                                <div class="step">
                                    <div class="step-number">4</div>
                                    <div class="step-content">
                                        <strong>בחר Driver:</strong>
                                        <ul>
                                            <li>Driver: <strong>Python</strong></li>
                                            <li>Version: <strong>3.6 or later</strong></li>
                                        </ul>
                                    </div>
                                </div>
                                
                                <div class="step">
                                    <div class="step-number">5</div>
                                    <div class="step-content">
                                        <strong>העתק את ה-Connection String:</strong>
                                        <div class="code-block">
                                            <pre>mongodb+srv://botuser:&lt;password&gt;@cluster0.xxxxx.mongodb.net/?retryWrites=true&amp;w=majority</pre>
                                        </div>
                                        <p style="font-size: 0.85em; opacity: 0.7; margin: 5px 0;">💡 במובייל: גלול ימינה לראות את כל המחרוזת</p>
                                        <ul>
                                            <li>החלף <code>&lt;password&gt;</code> בסיסמה האמיתית של המשתמש</li>
                                            <li>הוסף שם מסד נתונים לפני הסימן <code>?</code></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="success-box">
                            <h4>✅ דוגמה ל-Connection String מוכן:</h4>
                            <div class="code-block">
                                <pre>mongodb+srv://botuser:myPassword123@cluster0.abc12.mongodb.net/telegram_bot?retryWrites=true&w=majority</pre>
                            </div>
                            <p style="font-size: 0.9em; opacity: 0.8;">💡 במובייל: גלול ימינה לראות את כל המחרוזת</p>
                            <p><strong>שמור את זה במקום בטוח!</strong> תצטרך אותו בקובץ .env</p>
                        </div>
                    </div>
<div class="topic" id="render-account">
                        <h3>פתיחת חשבון Render</h3>
                        
                        <div class="info-box">
                            <h4>☁️ למה Render?</h4>
                            <ul>
                                <li><strong>חינמי:</strong> 750 שעות חינם בחודש (מספיק לבוט 24/7)</li>
                                <li><strong>פשוט:</strong> חיבור ישיר ל-GitHub</li>
                                <li><strong>אמין:</strong> פריסה אוטומטית עם כל push</li>
                                <li><strong>תמיכה:</strong> Python מובנה</li>
                            </ul>
                        </div>

                        <div class="subtopic">
                            <h4>צעדי הרישום:</h4>
                            <ol>
                                <li><strong>לך לאתר:</strong> <a href="https://render.com" target="_blank">render.com</a></li>
                                <li><strong>לחץ "Get Started"</strong> או "Sign Up"</li>
                                <li><strong>בחר שיטת הרישום:</strong>
                                    <ul>
                                        <li><span class="highlight">מומלץ:</span> "Continue with GitHub" - הכי נוח לחיבור המאגרים</li>
                                        <li>אלטרנטיבה: הרישום עם אימייל</li>
                                    </ul>
                                </li>
                                <li><strong>אם בחרת GitHub:</strong>
                                    <ul>
                                        <li>תועבר לעמוד GitHub</li>
                                        <li>אשר את ההרשאות</li>
                                        <li>Render יקבל גישה לרשימת הrepositories שלך</li>
                                    </ul>
                                </li>
                                <li><strong>מלא פרטים נוספים:</strong>
                                    <ul>
                                        <li>שם פרטי ומשפחה</li>
                                        <li>איזור גיאוגרפי (לא משפיע על השירות החינמי)</li>
                                    </ul>
                                </li>
                                <li><strong>אמת אימייל</strong> אם נדרש</li>
                            </ol>
                        </div>

                        <div class="subtopic">
                            <h4>הכרת הממשק:</h4>
                            <ul>
                                <li><strong>Dashboard:</strong> כל השירותים שלך</li>
                                <li><strong>New +:</strong> כפתור ליצירת שירות חדש</li>
                                <li><strong>Account Settings:</strong> הגדרות חשבון ותשלום</li>
                                <li><strong>Usage:</strong> צפייה בצריכת משאבים</li>
                            </ul>
                        </div>

                        <div class="warning-box">
                            <h4>⚠️ מגבלות התוכנית החינמית:</h4>
                            <ul>
                                <li>750 שעות בחודש (כ-31 יום של שירות רציף)</li>
                                <li>השירות "נרדם" אחרי 15 דקות ללא פעילות</li>
                                <li>זיכרון מוגבל ל-512MB</li>
                                <li>לכן נשתמש בטריק Keep-Alive + UptimeRobot</li>
                            </ul>
                        </div>
                    </div>

                    <div class="topic" id="uptimerobot-setup">
                        <h3>הגדרת UptimeRobot</h3>
                        
                        <div class="info-box">
                            <h4>📡 מה זה UptimeRobot?</h4>
                            <p>שירות חינמי שבודק כל 5 דקות אם האתר שלך פועל. כשהוא שולח בקשה לשירות ב-Render, זה מעיר אותו ומונע ממנו "להירדם".</p>
                        </div>
<div class="subtopic">
                            <h4>יצירת חשבון:</h4>
                            <ol>
                                <li><strong>לך ל:</strong> <a href="https://uptimerobot.com" target="_blank">uptimerobot.com</a></li>
                                <li><strong>לחץ "Free Sign Up"</strong></li>
                                <li><strong>מלא פרטים:</strong>
                                    <ul>
                                        <li>אימייל</li>
                                        <li>סיסמה</li>
                                        <li>שם מלא</li>
                                    </ul>
                                </li>
                                <li><strong>אמת אימייל</strong> (בדוק גם ספאם)</li>
                                <li><strong>התחבר לחשבון</strong></li>
                            </ol>
                        </div>

                        <div class="warning-box">
                            <h4>⚠️ חשוב!</h4>
                            <p>תוכל להגדיר את UptimeRobot רק <strong>אחרי</strong> שהשירות ב-Render כבר פועל ויש לך כתובת URL. זה יהיה בחלק "העלאה לאוויר".</p>
                        </div>

                        <div class="subtopic">
                            <h4>מה שתעשה מאוחר יותר:</h4>
                            <ol>
                                <li><strong>תוסיף Monitor חדש</strong></li>
                                <li><strong>סוג:</strong> HTTP(s)</li>
                                <li><strong>URL:</strong> הכתובת של השירות ב-Render</li>
                                <li><strong>שם:</strong> שם תיאורי לבוט</li>
                                <li><strong>מרווח בדיקה:</strong> 5 דקות (התוכנית החינמית)</li>
                            </ol>
                        </div>

                        <div class="tip-box">
                            <h4>💡 טיפ:</h4>
                            <p>UptimeRobot יכול גם לשלוח לך התראות (אימייל/SMS) אם הבוט נפל. זה שימושי למעקב על יציבות הבוט.</p>
                        </div>
                    </div>

                    <div class="topic" id="security-keys">
                        <h3>ניהול מפתחות בטוח</h3>
                        
                        <div class="warning-box">
                            <h4>🔐 חוקי זהב לאבטחת מפתחות:</h4>
                            <ul>
                                <li><strong>אף פעם לא בקוד:</strong> אל תכתוב מפתחות ישירות בקבצי Python</li>
                                <li><strong>לא ב-Git:</strong> אל תעלה מפתחות ל-GitHub/GitLab</li>
                                <li><strong>משתני סביבה:</strong> השתמש תמיד בקבצי .env או Secret Files</li>
                                <li><strong>גיבוי בטוח:</strong> שמור עותק של המפתחות במקום בטוח (מנהל סיסמאות)</li>
                            </ul>
                        </div>

                        <div class="subtopic">
                            <h4>איפה לשמור מפתחות:</h4>
                            
                            <div class="success-box">
                                <h5>✅ מקומות בטוחים:</h5>
                                <ul>
                                    <li><strong>מנהל סיסמאות:</strong> 1Password, Bitwarden, LastPass</li>
                                    <li><strong>קובץ מוצפן:</strong> VeraCrypt, 7-Zip עם סיסמה</li>
                                    <li><strong>מחברת פיזית:</strong> בכספת או במקום בטוח</li>
                                    <li><strong>Notes מוצפן:</strong> באפליקציות עם הצפנה</li>
                                </ul>
                            </div>

                            <div class="error-item">
                                <h5>❌ מקומות מסוכנים:</h5>
                                <ul>
                                    <li>ישירות בקוד המקור</li>
<li>הערות ב-GitHub</li>
                                    <li>אימיילים</li>
                                    <li>הודעות ווטסאפ/טלגרם</li>
                                    <li>מסמכי Google Docs ציבוריים</li>
                                    <li>קבצי טקסט לא מוגנים</li>
                                </ul>
                            </div>
                        </div>

                        <div class="subtopic">
                            <h4>תבנית ניהול מפתחות:</h4>
                            <div class="code-block">
                                <h5>קובץ .env מסודר:</h5>
                                <pre># Telegram Bot Configuration
BOT_TOKEN=6123456789:AAFGHJ-abcdefghijklmnopqrstuvwxyz_1234
ADMIN_ID=123456789

# Database Configuration  
MONGO_URI=mongodb+srv://user:pass@cluster0.xxxxx.mongodb.net/telegram_bot?retryWrites=true&w=majority

# External APIs (אם נדרש)
OPENAI_API_KEY=sk-...
GEMINI_API_KEY=AIzaSy...

# Environment Settings
ENVIRONMENT=production
DEBUG=false</pre>
                            </div>
                        </div>

                        <div class="subtopic">
                            <h4>מה לעשות אם מפתח נדלף:</h4>
                            <ol>
                                <li><strong>אל תיכנס לפאניקה</strong> - זה קורה לכולם</li>
                                <li><strong>בטל את המפתח מיד:</strong>
                                    <ul>
                                        <li>בוט טלגרם: /revoke ב-BotFather</li>
                                        <li>MongoDB: החלף סיסמת משתמש</li>
                                        <li>APIs אחרים: בטל ויצור מפתח חדש</li>
                                    </ul>
                                </li>
                                <li><strong>עדכן את השירותים</strong> עם המפתח החדש</li>
                                <li><strong>בדוק לוגים</strong> לפעילות חשודה</li>
                                <li><strong>למד מהטעות</strong> ושפר את תהליך האבטחה</li>
                            </ol>
                        </div>

                        <div class="tip-box">
                            <h4>💡 טיפים לאבטחה מתקדמת:</h4>
                            <ul>
                                <li><strong>רוטציה:</strong> החלף מפתחות מדי פעם</li>
                                <li><strong>הרשאות מינימליות:</strong> תן רק את ההרשאות הנדרשות</li>
                                <li><strong>ניטור:</strong> עקוב אחר שימוש במפתחות</li>
                                <li><strong>גיבוי:</strong> שמור מפתחות גיבוי במקום נפרד</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- חלק א': היסודות -->
            <div class="section">
                <div class="section-header basics">
                    <h2>📚 חלק א': היסודות</h2>
                    <div class="level-indicator">
                        <span class="badge beginner">מתחילים</span>
                        <div class="level-dot beginner active"></div>
                        <div class="level-dot"></div>
                        <div class="level-dot"></div>
                    </div>
                </div>
                <div class="section-content">
                    <div class="topic" id="architecture">
                        <h3>ארכיטקטורה: איך הבוט "מקשיב"?</h3>
                        
                        <div class="subtopic">
                            <h4>שתי השיטות העיקריות:</h4>
                            
                            <div class="success-box">
                                <h5>🔄 Polling (מומלץ למתחילים)</h5>
                                <ul>
                                    <li>הבוט שואל את טלגרם כל כמה שניות "יש הודעות חדשות?"</li>
<li>פשוט ויציב</li>
                                    <li>קל לאבחון תקלות</li>
                                    <li>עובד על כל שרת</li>
                                </ul>
                            </div>

                            <div class="info-box">
                                <h5>⚡ Webhooks (למתקדמים)</h5>
                                <ul>
                                    <li>טלגרם שולח הודעה ברגע שהיא מגיעה</li>
                                    <li>מהיר יותר</li>
                                    <li>מתאים לבוטים גדולים</li>
                                    <li>דורש HTTPS ויותר הגדרות</li>
                                </ul>
                            </div>

                            <div class="tip-box">
                                <strong>🎯 המלצה:</strong> תתחיל עם Polling. תעבור ל-Webhooks רק כשיש לך אלפי משתמשים.
                            </div>
                        </div>
                    </div>

                    <div class="topic" id="environment">
                        <h3>סביבת הפיתוח</h3>
                        
                        <div class="subtopic">
                            <h4>תלויות בסיסיות (requirements.txt):</h4>
                            <div class="code-block">
                                <pre>python-telegram-bot==20.7
python-dotenv==1.0.0
flask==3.0.0</pre>
                            </div>
                        </div>

                        <div class="subtopic">
                            <h4>לתכונות מתקדמות:</h4>
                            <div class="code-block">
                                <pre>python-telegram-bot[job-queue]==20.7  # למשימות מתוזמנות
pymongo==4.6.0                        # למסד נתונים
requests==2.31.0                      # לחיבור API חיצוני</pre>
                            </div>
                        </div>

                        <div class="warning-box">
                            <h5>⚠️ כללי חשובים:</h5>
                            <ul>
                                <li><strong>שמות קבצים:</strong> תמיד אותיות קטנות (<code>requirements.txt</code>, לא <code>Requirements.txt</code>)</li>
                                <li><strong>גרסאות:</strong> תמיד צמד מספר גרסה מדויק (<code>==20.7</code>)</li>
                                <li><strong>ארגון:</strong> קובץ נפרד לכל ספרייה</li>
                            </ul>
                        </div>
                    </div>

                    <div class="topic" id="secrets">
                        <h3>ניהול מידע רגיש</h3>
                        
                        <div class="subtopic">
                            <h4>קובץ .env (מקומי):</h4>
                            <div class="code-block">
                                <pre>BOT_TOKEN=6123456789:AAFGHJ-abcdefghijklmnopqr
ADMIN_ID=123456789
MONGO_URI=mongodb+srv://user:pass@cluster.mongodb.net/dbname</pre>
                            </div>
                        </div>

                        <div class="error-item">
                            <h5>🔒 חוקי זהב:</h5>
                            <ul>
                                <li>❌ <strong>לעולם לא</strong> לשים טוקנים בקוד המקור</li>
                                <li>✅ השתמש ב-<code>.env</code> למקומי</li>
                                <li>✅ השתמש ב-Secret Files ב-Render</li>
                                <li>✅ הוסף <code>.env</code> ל-<code>.gitignore</code></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- חלק ב': העלאה לאוויר -->
            <div class="section">
                <div class="section-header deploy">
                    <h2>🚀 חלק ב': העלאה לאוויר</h2>
                    <div class="level-indicator">
